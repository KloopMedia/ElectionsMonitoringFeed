{"version":3,"sources":["components/NewsCard.js","components/News.js","firebase.js","utils/violationsList.js","utils/titleMathcing.js","components/TopPanel.js","components/TopPoolingStations.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","maxWidth","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","width","spacing","NewsCard","props","isFile","isImage","isVideo","isSms","news","Object","keys","fileInfo","length","classes","React","useState","expanded","setExpanded","descriptionLastIndex","description","Card","className","CardHeader","Avatar","aria-label","variant","pollingStation","action","IconButton","title","subheader","date","CardMedia","image","public_url","filename","component","src","CardContent","Typography","align","color","map","index","text","splittedText","split","primaryText","answerText","createDescriptionParagraph","CardActions","disableSpacing","formEmergency","formMobile","formMorning","formAfternoon","formEvening","formEnter","formExit","formHome","clsx","onClick","aria-expanded","Collapse","in","timeout","unmountOnExit","violations","indexInner","createParagraph","memo","sortedNews","obj","sortedBy","isNumericSort","reverse","reversed","sortable","key","hasOwnProperty","push","sort","a","b","x","y","sortProperties","filter","el","filters","filterViolation","show","searchPoolingStation","toString","searchDistrict","district","switchText","switchEmergency","switchMobile","switchMorning","switchAfternoon","switchEvening","switchEnter","switchExit","switchHome","switchImage","switchVideo","dontShow","Grid","container","direction","alignItems","justify","style","minHeight","item","xs","prevProps","nextProps","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","violationsList","matchTitle","titles","slice","flexGrow","menuButton","marginRight","TopPanel","AppBar","position","background","Toolbar","TopPoolingStations","generateChartData","chartData","districts","entries","forEach","data","undefined","isForm","console","log","state","useCanvas","this","sortedData","greenData","bar","emptyData","BarSeries","VerticalBarSeriesCanvas","VerticalBarSeries","xType","xDistance","labelAnchorX","getLabel","d","Component","db","firestore","App","loadJsonForms","url","fetch","then","response","json","formData","jsonForms","catch","error","generateListOfFilterViolations","violationsArray","violationList","Set","generateNewsData","feedData","report","Date","seconds","includes","Number","subquestions","subAnswerId","fileAnswers","keyAnswer","answer","violation","answers","counter","violationCounter","keyQ","answerQ","generatedAnswer","pop","handleChange","event","setState","target","name","checked","handleChangePoolingStation","value","handleChangeDistrict","handleClickClearPoolingStation","handleChangeFilterViolation","handleClickFindPoolingStation","showSpinner","returnSpinner","top","left","marginTop","CircularProgress","size","collection","get","doc","isAllowedRender","FormGroup","row","FormControlLabel","control","Switch","onChange","label","TextField","type","id","FormControl","NativeSelect","FormHelperText","Button","startIcon","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.94e89f93.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nimport ReportIcon from '@material-ui/icons/Report';\nimport DriveEtaIcon from '@material-ui/icons/DriveEta';\n\nimport AlarmIcon from '@material-ui/icons/Alarm';\nimport Brightness5Icon from '@material-ui/icons/Brightness5';\nimport Brightness3Icon from '@material-ui/icons/Brightness3';\n\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport LocationOffIcon from '@material-ui/icons/LocationOff';\nimport HomeIcon from '@material-ui/icons/Home';\n\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 345,\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n    backgroundColor: '#2E3B55',\n    width: theme.spacing(7),\n    height: theme.spacing(7)\n  },\n\n}));\n\nexport default function NewsCard(props) {\n\n  //console.log(props)\n\n  let isFile = false\n  let isImage = false\n  let isVideo = false\n  let isSms = props.news.isSms\n\n  if (Object.keys(props.news.fileInfo).length > 0){\n\n    isFile = true\n\n    isImage = props.news.fileInfo.isImage\n    isVideo = props.news.fileInfo.isVideo\n  }\n\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  const createParagraph = (text, index) => {\n\n    let splittedText = text.split('ответ: ')\n    let primaryText = splittedText[0]\n    let answerText = splittedText[1]\n\n    if (index==0){\n      return(\n        <Typography variant=\"body1\" color=\"textPrimary\"><b>{text}</b></Typography>\n      );\n    }else{\n      return(\n        <Typography variant=\"body1\" color=\"textPrimary\">{primaryText}\n          <Typography variant=\"subtitle1\" color=\"secondary\">{answerText}</Typography> \n        </Typography>    \n      );\n    }\n    \n  }\n\n  const descriptionLastIndex = props.news.description.length - 1\n\n  const createDescriptionParagraph = (text, index) => {\n\n    let splittedText = text.split('ответ: ')\n    let primaryText = splittedText[0]\n    let answerText = splittedText[1]\n\n    if (index==descriptionLastIndex){\n      return(\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">{primaryText}\n          <Typography variant=\"subtitle1\" color=\"secondary\">{answerText}</Typography> \n        </Typography>\n      );\n    }else{\n      return(\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\"><b>{text}</b></Typography>\n      );\n    }\n    \n  }\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        avatar={\n          <Avatar aria-label=\"recipe\" variant=\"rounded\" className={classes.avatar}>\n            {props.news.pollingStation}\n          </Avatar>\n        }\n        action={\n          <IconButton aria-label=\"settings\">\n            <MoreVertIcon />\n          </IconButton>\n        }\n        title={props.news.title}\n        subheader={props.news.date}\n      />\n      {isImage ? <CardMedia\n        className={classes.media}\n        image={props.news.fileInfo.public_url}\n        title={props.news.fileInfo.filename}\n      />\n        : <div></div>\n      }\n      {isVideo ? <CardMedia \n        component='iframe'\n        title={props.news.fileInfo.filename}\n        //src='https://www.youtube.com/embed/FEG31rDg2TU'\n        src={props.news.fileInfo.public_url}\n        />\n        : <div></div>\n      }\n      <CardContent>\n        {isSms ? <Typography variant=\"h5\" align=\"center\" color=\"secondary\" component=\"p\">SMS!!!</Typography> : <div></div>}\n\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {Object.keys(props.news.description).map(index => ( \n            createDescriptionParagraph(props.news.description[index], index)            \n          ))}\n        </Typography>\n      </CardContent>\n      <CardActions disableSpacing={true}> \n        <IconButton aria-label=\"Emergency\">\n          <ReportIcon color={props.news.formEmergency ? \"error\":\"disabled\"}/>       \n        </IconButton>\n        <IconButton aria-label=\"Mobile\">\n          <DriveEtaIcon color={props.news.formMobile ? \"error\":\"disabled\"}/>         \n        </IconButton>\n        <IconButton aria-label=\"PeriodOfDays\">      \n          <AlarmIcon color={props.news.formMorning ? \"error\":\"disabled\"}/>\n          <Brightness5Icon color={props.news.formAfternoon ? \"error\":\"disabled\"}/>\n          <Brightness3Icon color={props.news.formEvening ? \"error\":\"disabled\"}/>\n        </IconButton>\n        <IconButton aria-label=\"CheckHome\">          \n          <LocationOnIcon color={props.news.formEnter ? \"error\":\"disabled\"}/>\n          <LocationOffIcon color={props.news.formExit ? \"error\":\"disabled\"}/>\n          <HomeIcon color={props.news.formHome ? \"error\":\"disabled\"}/>\n        </IconButton>\n        {!isFile ? <IconButton\n          className={clsx(classes.expand, {\n            [classes.expandOpen]: expanded,\n          })}\n          onClick={handleExpandClick}\n          aria-expanded={expanded}\n          aria-label=\"show more\"\n        >\n          <ExpandMoreIcon />\n        </IconButton>\n        : <div></div>\n      }\n      </CardActions>\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n        <CardContent>          \n\n          {Object.keys(props.news.violations).map(index => (\n              Object.keys(props.news.violations[index]).map(indexInner => (  \n\n                createParagraph(props.news.violations[index][indexInner], indexInner)\n            \n              ))\n\n            ))}     \n\n        </CardContent>\n      </Collapse>\n    </Card>\n  );\n}\n","import React from 'react'\nimport NewsCard from './NewsCard'\n\nimport Grid from \"@material-ui/core/Grid\";\n\nconst sortProperties = (obj, sortedBy, isNumericSort, reverse) => {\n    sortedBy = sortedBy || 1; // by default first key\n    isNumericSort = isNumericSort || false; // by default text sort\n    reverse = reverse || false; // by default no reverse\n\n    var reversed = (reverse) ? -1 : 1;\n\n    var sortable = [];\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            sortable.push([key, obj[key]]);\n        }\n    }\n    if (isNumericSort)\n        sortable.sort(function (a, b) {\n            return reversed * (a[1][sortedBy] - b[1][sortedBy]);\n        });\n    else\n        sortable.sort(function (a, b) {\n            var x = a[1][sortedBy],\n                y = b[1][sortedBy];\n            return x < y ? reversed * -1 : x > y ? reversed : 0;\n        });\n    return sortable; // array in format [ [ key1, val1 ], [ key2, val2 ], ... ]\n}\n\nconst News = (props) => {       \n\n    let sortedNews = sortProperties(props.news, 'timestamp', true, true)\n\n    //FILTERING\n\n    //violations\n    sortedNews = sortedNews.filter(function (el) {\n        if(props.filters.filterViolation != 'Любое нарушение'){\n            \n            let show = false\n\n            el[1].description.map(description => {\n\n                if ((description == props.filters.filterViolation) || \n                    (description == props.filters.filterViolation + ' (см. фото)') || \n                    (description == props.filters.filterViolation + ' (см. видео)')\n                    ){\n\n                    show = true\n                }\n            })\n            return show\n        } \n        else{\n            return true\n        }        \n    });\n\n    //poolingStation\n    sortedNews = sortedNews.filter(function (el) {\n        if(props.filters.searchPoolingStation != 0){\n            return el[1].pollingStation == props.filters.searchPoolingStation.toString();\n        } \n        else{\n            return true\n        }        \n    });\n\n     //searchDistrict\n     sortedNews = sortedNews.filter(function (el) {\n        if(props.filters.searchDistrict != ''){\n            return el[1].district == props.filters.searchDistrict;\n        } \n        else{\n            return true\n        }        \n    });\n\n    //switchText\n    sortedNews = sortedNews.filter(function (el) {\n        if (Object.keys(el[1].fileInfo).length == 0) {\n            if(props.filters.switchText){\n                return true;\n            }else{\n                return false\n            }  \n        }else{\n            return true\n        }          \n    });\n\n    //switchEmergency\n    sortedNews = sortedNews.filter(function (el) {\n        if (el[1].formEmergency) {\n            if(props.filters.switchEmergency){\n                return true;\n            }else{\n                return false\n            }  \n        }else{\n            return true\n        }          \n    });\n\n     //switchMobile\n     sortedNews = sortedNews.filter(function (el) {\n        if (el[1].formMobile) {\n            if(props.filters.switchMobile){\n                return true;\n            }else{\n                return false\n            }  \n        }else{\n            return true\n        } \n    });\n\n    //switchMorning\n    sortedNews = sortedNews.filter(function (el) {\n        if (el[1].formMorning) {\n            if(props.filters.switchMorning){\n                return true;\n            }else{\n                return false\n            }  \n        }else{\n            return true\n        }   \n    });\n\n    //switchAfternoon\n    sortedNews = sortedNews.filter(function (el) {\n        if (el[1].formAfternoon) {\n            if(props.filters.switchAfternoon){\n                return true;\n            }else{\n                return false\n            }  \n        }else{\n            return true\n        }     \n    });\n\n    //switchEvening\n    sortedNews = sortedNews.filter(function (el) {\n        if (el[1].formEvening) {\n            if(props.filters.switchEvening){\n                return true;\n            }else{\n                return false\n            }  \n        }else{\n            return true\n        }       \n    });\n\n     //switchEnter\n     sortedNews = sortedNews.filter(function (el) {\n        if (el[1].formEnter) {\n            if(props.filters.switchEnter){\n                return true;\n            }else{\n                return false\n            }  \n        }else{\n            return true\n        }     \n    });\n\n    //switchExit\n    sortedNews = sortedNews.filter(function (el) {\n        if (el[1].formExit) {\n            if(props.filters.switchExit){\n                return true;\n            }else{\n                return false\n            }  \n        }else{\n            return true\n        }       \n    });\n\n    //switchHome\n    sortedNews = sortedNews.filter(function (el) {\n        if (el[1].formHome) {\n            if(props.filters.switchHome){\n                return true;\n            }else{\n                return false\n            }  \n        }else{\n            return true\n        }     \n    });\n\n\n    //switchImage\n    sortedNews = sortedNews.filter(function (el) {\n        if (Object.keys(el[1].fileInfo).length > 0 && el[1].fileInfo.isImage) {\n            if(props.filters.switchImage){\n                return true;\n            }else{\n                return false\n            }  \n        }else{\n            return true\n        }          \n    });\n\n    //switchVideo\n    sortedNews = sortedNews.filter(function (el) {\n        if (Object.keys(el[1].fileInfo).length > 0 && el[1].fileInfo.isVideo) {\n            if(props.filters.switchVideo){\n                return true;\n            }else{\n                return false\n            }  \n        }else{\n            return true\n        }          \n    });    \n\n    //dontShow\n    sortedNews = sortedNews.filter(function (el) {\n        return !el[1].dontShow\n    }); \n\n    return (        \n        //     sortedNews.map(news => (\n        //         <NewsCard news={news[1]}></NewsCard>\n        // ))\n        <Grid\n            container\n            spacing={0}\n            direction=\"column\"\n            alignItems=\"center\"\n            justify=\"center\"\n            style={{ minHeight: '100vh' }}\n            >\n\n            <Grid item xs={12}>\n                <Grid container justify=\"center\" direction='column' spacing={1}>\n                {                \n                    sortedNews.map(news => (\n                        <Grid item>\n                            <NewsCard news={news[1]}></NewsCard>\n                        </Grid>                        \n                ))}\n                {/* {Object.keys(props.news).map(news => (\n                    <NewsCard news={props.news[news]}></NewsCard>\n                ))} */}\n                  </Grid> \n            </Grid>   \n\n        </Grid> \n        \n    )\n}\nconst areEqual = (prevProps, nextProps) => {\n    return ((prevProps.news === nextProps.news) && (prevProps.filters===nextProps.filters))\n}\n  \nexport default React.memo(News, areEqual); ","import firebase from 'firebase';\n\nconst firebaseConfig = {\n\n    // //STAGE\n    // apiKey: \"AIzaSyBj2q_xJTPtfgtRGz-SN8_NjVYQ9qtAzIw\",\n    // authDomain: \"electionsmonitorstaging.firebaseapp.com\",\n    // databaseURL: \"https://electionsmonitorstaging.firebaseio.com\",\n    // projectId: \"electionsmonitorstaging\",\n    // storageBucket: \"electionsmonitorstaging.appspot.com\",\n    // messagingSenderId: \"901357005980\",\n    // appId: \"1:901357005980:web:2006a62aa812492d489159\",\n    // measurementId: \"G-69DFTZBTQ7\"\n    \n    //PROD\n    apiKey: \"AIzaSyCCAhvWFvwuxDUXZ4aV-FhB_Dj-lp_frCw\",\n    authDomain: \"electionsmonitor-5d008.firebaseapp.com\",\n    databaseURL: \"https://electionsmonitor-5d008.firebaseio.com\",\n    projectId: \"electionsmonitor-5d008\",\n    storageBucket: \"electionsmonitor-5d008.appspot.com\",\n    messagingSenderId: \"145410178875\",\n    appId: \"1:145410178875:web:6cf434df68d3c65062811e\",\n    measurementId: \"G-EXC8T9QXES\"\n  };\n  // Initialize Firebase\n  firebase.initializeApp(firebaseConfig);\n\nexport default firebase;","const violationsList = {\n    \"2. Общие замечания / Жалпы эскертүүлөр:\": \"Общие замечания!\",\n    \"3. Общие сведения / Жалпы маалымат?\": \"Общие сведения!\",\n    \"4. Нарушения на участке / Участоктогу мыйзам бузуулар\": \"Нарушения на участке!\",\n    \"1. Какое нарушение вы увидели / Кандай мыйзам бузууну байкап калдыңыз?\": \"Были замечены нарушения!\",\n    \"1. Я нахожусь на участке номер / Мен номер __ участогундамын:\": \"Наблюдатель прибыл на участок!\",\n    \"3. Общие замечания / Жалпы эскертүүлөр:\": \"Общие замечания!\",\n    \"6. Шаги, которые должны были быть сделаны до открытия урн / Урналар ачыла турганга чейинки кадамдар\": \"Нарушения до открытия урн!\",\n    \"7. Должностные лица и прозрачность / Аткаминерлер жана ачык-айкындык\": \"Прозрачность подсчета голосов!\",\n    \"1. Я закончил работать наблюдателем и вышел из участка в (указать время) / Мен байкоочу катары иштеп бүттүм жана участоктон чыктым (сааты):\" : \"Наблюдатель закончил работу и покинул участок!\",\n    \"1. Я пришёл домой и со мной всё в порядке / Мен үйгө келдим, баардыгы жакшы:\": \"Наблюдатель пришел домой с ним все в порядке?\",\n    \"3. Какие нарушения были на участке / Участкада кандай эреже бузуулар байкалды?\": \"Нарушения на участке!\",\n    \"4. Нарушения вне участка / Участканын сыртындагы эреже бузуулар\": \"Нарушения вне участка!\",\n    \"5. Процедура голосования на участке / Участкадагы шайлоо тартиби\": \"Нарушены процедуры голосования!\",\n    \"6. Другие наблюдатели и избиратели сообщили вам о нарушениях, которые вы не видели. Кратко опишите, что они сказали / Башка байкоочулар жана шайлоочулардан кимдир бирөө сиз көрбөгөн эреже бузуулар жөнүндө кабарлаштыбы? Эмне деп айтканын кыскача сүрөттөп бериңиз:\": \"Нарушения озвученные другими наблюдателями!\",\n    \"7. Если было другое нарушение, коротко опишите / Башка эреже бузуу болсо, аны кыскача сүрөттөңүз:\": \"Замечено нарушение!\",\n    \"3. Общие замечания / Жалпы эскертүүлөр:\": \"Общие замечания!\",\n    \"4. Все ли было на участке из ниже перечисленного / Төмөндөгү нерселердин баардыгы участокто барбы?\": \"Неукомлектованный участок!\",\n    \"5. Процедура при открытии участка / Участок ачылып жаткан учурдагы сактала турган талаптар\": \"Нарушения при открытии участка!\",\n    \"6. Были ли посторонние люди при открытии участка / Участок ачылып жатканда чоочун адмадар бар беле?\": \"Посторонние люди при открытии участка!\",\n    \"1. Номер избирательного участка / Шайлоо участкасынын номери:\" : \"\"\n}\n\nexport default violationsList;","import titles from './violationsList'\n\nconst matchTitle = (title) => {\n    if (title in titles) {\n        return titles[title]\n    }\n    else {\n        return title.slice(3)\n    }      \n}\n\nexport default matchTitle;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function TopPanel() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" style={{ background: '#2E3B55' }}>\n        <Toolbar>\n          {/* <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            <MenuIcon />\n          </IconButton> */}\n          <Typography variant=\"h6\" className={classes.title} align=\"center\">\n            Нарушения на избирательных участках \n          </Typography>\n          {/* <Button color=\"inherit\">Login</Button>\n           */}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}","// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport {\n  XYPlot,\n  XAxis,\n  YAxis,\n  VerticalGridLines,\n  HorizontalGridLines,\n  VerticalBarSeries,\n  VerticalBarSeriesCanvas,\n  LabelSeries\n} from 'react-vis';\n\nclass TopPoolingStations extends React.Component {\n  \n    constructor(props) {\n        super(props);\n\n        this.state = {\n            useCanvas: false    \n        }\n\n        this.chartData = {}\n        this.districts = {}\n    } \n\n    sortProperties = (obj, sortedBy, isNumericSort, reverse) => {\n        sortedBy = sortedBy || 1; // by default first key\n        isNumericSort = isNumericSort || false; // by default text sort\n        reverse = reverse || false; // by default no reverse\n    \n        var reversed = (reverse) ? -1 : 1;\n    \n        var sortable = [];\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                sortable.push([key, obj[key]]);\n            }\n        }\n        if (isNumericSort)\n            sortable.sort(function (a, b) {\n                return reversed * (a[1][sortedBy] - b[1][sortedBy]);\n            });\n        else\n            sortable.sort(function (a, b) {\n                var x = a[1][sortedBy],\n                    y = b[1][sortedBy];\n                return x < y ? reversed * -1 : x > y ? reversed : 0;\n            });\n        return sortable; // array in format [ [ key1, val1 ], [ key2, val2 ], ... ]\n    }\n\n    generateChartData = () => {\n\n        let chartData = {}\n        let districts = {\n            '': '',\n            'нет данных' :''\n        }\n        //console.log(this.props)\n\n        Object.entries(this.props.news).forEach(([key, data]) => {\n            if(data.pollingStation === null || data.pollingStation === undefined || data.pollingStation === 'none'){\n                districts['нет данных'] = ''\n            }else{\n                districts[data.pollingStation] = data.district\n            }\n            \n        });\n\n        Object.entries(this.props.news).forEach(([key, data]) => {\n            //console.log(key)\n            //console.log(data)\n\n            let isForm = true\n            if(Object.keys(data.fileInfo).length > 0){\n                isForm = false\n\n                if(data.formEnter || data.formExit || data.formHome){\n                    console.log('NOT IMPORTANT')\n                    isForm = false\n                }\n                console.log('NOT FORM')\n            }else{\n                if(data.formEnter || data.formExit || data.formHome){\n                    console.log('NOT IMPORTANT')\n                    isForm = false\n                }\n                console.log('NOT FORM')\n            }\n\n            if(isForm) {\n\n                if(data.pollingStation === null || data.pollingStation === undefined || data.pollingStation === 'none'){\n                    if(chartData.hasOwnProperty('нет данных')){\n                        if (data.violations.length == 0){ \n                            chartData['нет данных'] += data.description.length\n                        }else{\n                            chartData['нет данных'] += data.violations.length\n                        }\n                    }else{\n                        if (data.violations.length == 0){ \n                            chartData['нет данных'] = data.description.length\n                        }else{\n                            chartData['нет данных'] = data.violations.length\n                        }                                      \n                    }  \n                }else{\n                    if(chartData.hasOwnProperty([data.pollingStation])){\n                        if (data.violations.length == 0){ \n                            chartData[data.pollingStation] += data.description.length\n                        }else{\n                            chartData[data.pollingStation] += data.violations.length\n                        }\n                    }else{\n                        if (data.violations.length == 0){ \n                            chartData[data.pollingStation] = data.description.length\n                        }else{\n                            chartData[data.pollingStation] = data.violations.length\n                        }                                      \n                    }  \n                }                             \n            }                \n        });\n\n        this.chartData = chartData\n        this.districts = districts\n        console.log(\"CHART CALC\")\n        console.log(chartData)\n        console.log(districts)\n    }\n\n  render() {\n\n    this.generateChartData()\n\n    let chartData = {}\n\n    Object.entries(this.chartData).forEach(([x, y]) => {\n        if(x==''){\n            chartData[x] = {'x': \"NO INFO\", 'y': y, 'd':''} \n        }else{\n            chartData[x] = {'x': x, 'y': y, 'd': this.districts[x]}    \n        }            \n    });\n\n    console.log('LAST')\n    console.log(chartData)\n\n    const sortedData = this.sortProperties(chartData, 'y', true, true)\n\n    let greenData = []\n\n    sortedData.slice(0, 15).map(bar => (\n        greenData.push(bar[1])\n    ))\n\n    console.log(greenData)\n\n    console.log(\"CHART\")\n    console.log(this.props)\n\n    let emptyData = greenData.length == 0\n\n    const {useCanvas} = this.state;\n    const content = useCanvas ? 'TOGGLE TO SVG' : 'TOGGLE TO CANVAS';\n    const BarSeries = useCanvas ? VerticalBarSeriesCanvas : VerticalBarSeries;\n    return (\n      <div>\n          {!emptyData\n          ? <XYPlot xType=\"ordinal\" width={1600} height={200} xDistance={50}>\n                <VerticalGridLines />\n                <HorizontalGridLines />\n                <XAxis />\n                <YAxis />\n                <BarSeries className=\"vertical-bar-series-example\" data={greenData} />\n                <LabelSeries labelAnchorX='middle' data={greenData} getLabel={d => d.d} />\n            </XYPlot>\n          : <div></div>\n        }        \n      </div>\n    );\n  }\n}\n\nexport default TopPoolingStations;","import React from 'react';\nimport News from './components/News'\n\nimport firebase from './firebase';\nimport matchTitle from './utils/titleMathcing'\nimport TopPanel from './components/TopPanel'\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from '@material-ui/core/TextField';\n\nimport Button from '@material-ui/core/Button';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport NativeSelect from '@material-ui/core/NativeSelect';\n\nimport violationsList from './utils/violationsList'\n\nimport TopPoolingStations from './components/TopPoolingStations'\n\nconst db = firebase.firestore()\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      news : {},  \n\n      filters : {\n        switchEmergency : true,\n        switchMobile : true,\n        switchMorning : true,\n        switchAfternoon : true,\n        switchEvening : true,\n        switchEnter : false,\n        switchExit : true,\n        switchHome : true,\n        switchText : true,\n        switchImage : true,\n        switchVideo : true,\n        \n        searchPoolingStation : 0,\n        searchDistrict : '',\n\n        filterViolation : 'Любое нарушение'\n      },\n\n      switchEmergency : true,\n      switchMobile : true,\n      switchMorning : true,\n      switchAfternoon : true,\n      switchEvening : true,\n      switchEnter : false,\n      switchExit : true,\n      switchHome : true,\n      switchText : true,\n      switchImage : true,\n      switchVideo : true,\n\n      filterViolation : 'Любое нарушение',\n\n      showSpinner: true     \n\n    };   \n\n    this.jsonForms = {}\n    this.news = {}   \n    this.searchPoolingStation = 0 \n    this.searchDistrict = 0\n    this.violationList = []  \n  }    \n\n  //Костыль чтобы не делать мульон запросов!\n  loadJsonForms = () => {\n\n    const formUrls = [\n      'https://raw.githubusercontent.com/KloopMedia/ElectionsMonitoringFormsConfig/master/final_form_emergency.json',      \n      'https://raw.githubusercontent.com/KloopMedia/ElectionsMonitoringFormsConfig/master/final_form_mobile.json',\n      'https://raw.githubusercontent.com/KloopMedia/ElectionsMonitoringFormsConfig/master/final_form_morning.json',\n      'https://raw.githubusercontent.com/KloopMedia/ElectionsMonitoringFormsConfig/master/final_form_afternoon.json',\n      'https://raw.githubusercontent.com/KloopMedia/ElectionsMonitoringFormsConfig/master/final_form_evening.json', \n      'https://raw.githubusercontent.com/KloopMedia/ElectionsMonitoringFormsConfig/master/final_form_enter.json',\n      'https://raw.githubusercontent.com/KloopMedia/ElectionsMonitoringFormsConfig/master/final_form_exit.json',\n      'https://raw.githubusercontent.com/KloopMedia/ElectionsMonitoringFormsConfig/master/final_form_home.json'\n            \n    ]\n\n    formUrls.forEach((url) => {\n      fetch(url)\n      .then(response => response.json())\n      .then((formData) => {\n        this.jsonForms[url] = formData             \n      })\n      .catch((error) => {\n        console.error(error)\n      })          \n    })\n  }\n\n  generateListOfFilterViolations = () => {\n    \n    let violationsArray = []\n    Object.entries(violationsList).forEach(([key, title]) => {\n      violationsArray.push(title)\n    });\n\n    this.violationList = [...new Set(violationsArray)];\n  }\n\n  generateNewsData = (feedData, formData) => {   \n    \n    //console.log(feedData)\n\n    let report = {}\n    let violations = []\n    let description = []\n    let fileInfo = {}\n\n    let dontShow = false\n\n    //Если файл\n    if(feedData.hasOwnProperty('fileId')){\n      \n      if (feedData['filename'] === null || feedData['filename'] === undefined ){\n        console.log('ERROR: NO FILENAME')\n\n        return\n      }\n\n      report['title'] = feedData['district']\n      report['date'] = new Date(feedData['date'].seconds*1000).toString();\n      report['timestamp'] = feedData['date'].seconds\n      report['pollingStation'] = feedData['polling_station']\n      report['district'] = feedData['district']\n\n      fileInfo['public_url'] = feedData['public_url']\n      fileInfo['filename'] = feedData['filename']\n\n      const imgExt = ['jpg', 'jpeg', 'png']\n      const vidExt = ['mp4', 'm4a', 'm4v', 'f4v', 'f4a', 'm4b', 'm4r', 'f4b', 'mov', '3gp', '3gp2', '3g2', '3gpp', '3gpp2', 'ogg', 'oga', 'ogv', 'ogx', 'wmv', 'wma', 'webm', 'flv', 'avi', 'mkv', 'ts']\n\n      if (imgExt.includes(feedData['filename'].split(\".\").slice(-1)[0]))\n      {\n        fileInfo['isImage'] = true \n        description.push(matchTitle(formData['questions'][Number(feedData['answer_number'])].title) + ' (см. фото)') \n        \n        if (feedData['answer_subnumber'] !== null && feedData['answer_subnumber'] !== undefined ) \n        {\n          const subquestions = formData['questions'][Number(feedData['answer_number'])]['subquestion'] \n\n          let subAnswerId = Number(subquestions[Number(feedData['answer_subnumber'])]['on']) \n          let fileAnswers = formData['questions'][Number(feedData['answer_number'])]['answer']\n\n          description.push(subquestions[Number(feedData['answer_subnumber'])]['q'] + ' ответ: ' + fileAnswers[subAnswerId] )\n        }\n        \n      } \n      else{\n        fileInfo['isImage'] = false \n      }\n\n      if ((vidExt.includes(feedData['filename'].split(\".\").slice(-1)[0])))\n      {\n        fileInfo['isVideo'] = true\n        description.push(matchTitle(formData['questions'][Number(feedData['answer_number'])].title) + ' (см. видео)')  \n\n        if (feedData['answer_subnumber'] !== null && feedData['answer_subnumber'] !== undefined ) \n        {\n          const subquestions = formData['questions'][Number(feedData['answer_number'])]['subquestion'] \n\n          let subAnswerId = Number(subquestions[Number(feedData['answer_subnumber'])]['on']) \n          let fileAnswers = formData['questions'][Number(feedData['answer_number'])]['answer']\n          \n          description.push(subquestions[Number(feedData['answer_subnumber'])]['q'] + ' ответ: ' + fileAnswers[subAnswerId] )\n        }\n      }\n      else{\n        fileInfo['isVideo'] = false\n      }\n\n      //КОСТЫЛЬ ЧТОБЫ НЕ ОТОБРАЖАТЬ doc, pdf e.t.c\n      if(!fileInfo['isImage'] && !fileInfo['isVideo']){\n        dontShow = true\n      }\n\n      //SMS\n      let isSms = false\n      if(feedData.hasOwnProperty('sms')){\n        isSms = feedData['sms']\n      }\n\n      report['violations'] = violations     \n      report['description'] = description  \n      report['fileInfo'] = fileInfo\n\n      //Form buttons\n      report['formEmergency'] = formData['identifier'] == 'form_emergency'\n      report['formMobile'] = formData['identifier'] == 'form_mobile'\n      report['formMorning'] = formData['identifier'] == 'form_morning'\n      report['formAfternoon'] = formData['identifier'] == 'form_afternoon'\n      report['formEvening'] = formData['identifier'] == 'form_evening'\n      report['formEnter'] = formData['identifier'] == 'form_enter'\n      report['formExit'] = formData['identifier'] == 'form_exit'\n      report['formHome'] = formData['identifier'] == 'form_home'\n\n      report['isSms'] = isSms\n      report['dontShow'] = dontShow\n\n      this.news[feedData['fileId']] = report         \n\n    //Если форма\n    } else {\n\n      //TODO\n      report['title'] = feedData['district']\n      report['date'] = new Date(feedData['timestamp'].seconds*1000).toString();\n      report['timestamp'] = feedData['timestamp'].seconds\n      report['district'] = feedData['district']\n\n      if (formData['identifier']=='form_mobile'){\n        report['pollingStation'] = feedData['answers'][0]\n\n      }else{\n        report['pollingStation'] = feedData['polling_station']\n      }\n\n      Object.entries(feedData['answers']).forEach(([keyAnswer, answer]) => {\n\n        if (answer === null || answer === undefined ){\n          console.log('ERROR')\n          return\n        }\n        //console.log(`${keyAnswer} ${answer}`)\n        let violation = []\n\n        if (formData['questions'][keyAnswer]['type'] == 'multiradio'){\n          let title = formData['questions'][keyAnswer]['title']              \n          //console.log(title)  \n          \n          violation.push(title.slice(3))  \n          description.push(matchTitle(title))               \n\n          const subquestions = formData['questions'][keyAnswer]['subquestion'] \n          //console.log(subquestions)\n\n          const answers = formData['questions'][keyAnswer]['answer'] \n\n          let counter = 1\n          let violationCounter = 0\n          Object.entries(answer).forEach(([keyQ, answerQ]) => {           \n          \n            //Выводить только если отличается от вопроса по умолчанию?\n            if(answerQ.toString() == subquestions[keyQ]['on'])\n            {\n              let generatedAnswer = counter.toString() + '. ' + subquestions[keyQ]['q'] + ' ответ: ' + answers[answerQ]\n              violation.push(generatedAnswer)\n              violationCounter += 1\n\n              counter += 1\n            }\n            \n          });\n\n          //ложная тревога\n          if(violationCounter == 0){\n            violation.pop()\n          }\n\n          violations.push(violation)\n\n        } else if (formData['questions'][keyAnswer]['type'] == 'input' || formData['questions'][keyAnswer]['type'] == 'time'){\n          \n          let title = formData['questions'][keyAnswer]['title']              \n          //console.log(title)  \n          \n          violation.push(title.slice(3))  \n          description.push(matchTitle(title))    \n\n          violation.push(answer)\n\n          violations.push(violation)\n\n        } else if (formData['questions'][keyAnswer]['type'] == 'radio'){\n          \n          let title = formData['questions'][keyAnswer]['title']              \n          //console.log(title)  \n          \n          violation.push(title.slice(3))  \n          description.push(matchTitle(title))    \n\n          const answers = formData['questions'][keyAnswer]['answer']\n          violation.push(answers[answer])\n\n          violations.push(violation)          \n        }       \n        \n      });\n\n\n      //SMS\n      let isSms = false\n      if(feedData.hasOwnProperty('sms')){\n        isSms = feedData['sms']\n      }\n\n      description.push('(разверните пост для детального просмотра)')\n\n      report['violations'] = violations     \n      report['description'] = description  \n      report['fileInfo'] = fileInfo\n\n      //Form buttons\n      report['formEmergency'] = formData['identifier'] == 'form_emergency'\n      report['formMobile'] = formData['identifier'] == 'form_mobile'\n      report['formMorning'] = formData['identifier'] == 'form_morning'\n      report['formAfternoon'] = formData['identifier'] == 'form_afternoon'\n      report['formEvening'] = formData['identifier'] == 'form_evening'\n      report['formEnter'] = formData['identifier'] == 'form_enter'\n      report['formExit'] = formData['identifier'] == 'form_exit'\n      report['formHome'] = formData['identifier'] == 'form_home'\n\n      report['isSms'] = isSms\n      report['dontShow'] = dontShow\n\n      this.news[feedData['responseId']] = report\n\n      //console.log(report)\n      \n    }    \n  }\n\n  componentDidMount() {      \n    \n    this.loadJsonForms()\n\n    //Получаем все формы с ответами\n    db.collection(\"feed\").get()\n    .then(response => {\n      response.forEach(doc => {\n\n        //console.log(doc.id, '=>', doc.data())\n\n        const feedData = doc.data()    \n\n        //Выводим файлы или \"формы наблюдателей\" \n        if(feedData.hasOwnProperty('form_url')){\n\n          //костыль чтобы не обрабатывать старые формы\n          if (this.jsonForms.hasOwnProperty(feedData['form_url']) == false){\n            console.log(\"OLD FROM!!!\")\n            console.log(feedData['form_url'])\n            return\n          }\n\n          let formData = this.jsonForms[feedData['form_url']]\n\n          this.generateNewsData(feedData, formData)         \n        }\n      });    \n      \n      //STATE \n      if (this.state.news !== this.news){                 \n            \n        this.setState({\n          news: this.news\n        });\n      }    \n\n      this.setState({showSpinner: false})\n    })   \n  }  \n\n  handleChange = (event) => { \n    this.setState({[event.target.name]: event.target.checked }); \n  };\n\n  handleChangePoolingStation = (event) => { \n    this.searchPoolingStation = event.target.value\n  }\n\n  handleChangeDistrict = (event) => { \n    this.searchDistrict = event.target.value\n  }\n\n  handleClickClearPoolingStation = (event) => {\n    this.setState({searchPoolingStation: 0})    \n  }\n\n  handleChangeFilterViolation = (event) => {\n    this.setState({filterViolation: event.target.value}); \n  };\n\n  handleClickFindPoolingStation = (event) => {\n\n    const filters =  {\n      showSpinner: this.state.showSpinner,\n      switchEmergency : this.state.switchEmergency ,\n      switchMobile : this.state.switchMobile,\n      switchMorning : this.state.switchMorning,\n      switchAfternoon : this.state.switchAfternoon,\n      switchEvening : this.state.switchEvening,\n      switchEnter : this.state.switchEnter,\n      switchExit : this.state.switchExit,\n      switchHome : this.state.switchHome,\n      switchText : this.state.switchText,\n      switchImage : this.state.switchImage,\n      switchVideo : this.state.switchVideo,\n      \n      searchPoolingStation : this.searchPoolingStation, \n      searchDistrict : this.searchDistrict, \n\n      filterViolation : this.state.filterViolation\n    }\n\n    this.setState( {filters: filters})\n  }\n\n  returnSpinner = () => {\n    return (\n    <div style = {{\n      position: 'absolute',\n      height: '100px',\n      width: '100px',\n      top: '50%',\n      left: '50%',\n      marginLeft: '-50px',\n      marginTop: '-50px',\n      }}>\n      <CircularProgress size={100} style={{color: 'grey'}}/>\n    </div>\n    )\n  }\n  \n  render () {\n    \n    this.generateListOfFilterViolations()\n\n    let isAllowedRender = true\n    if(this.state.news === undefined) {\n      isAllowedRender = false\n    }   \n\n    return (\n   <div>     \n     <TopPanel></TopPanel>\n\n      <Grid container justify = \"center\">\n        \n        <FormGroup row>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.state.switchEmergency}\n                onChange={this.handleChange}\n                name=\"switchEmergency\"\n                color=\"Secondary\"\n              />\n            }\n            label=\"Экстренные\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.state.switchMobile}\n                onChange={this.handleChange}\n                name=\"switchMobile\"\n                color=\"Secondary\"\n              />\n            }\n            label=\"Мобильные\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.state.switchMorning}\n                onChange={this.handleChange}\n                name=\"switchMorning\"\n                color=\"Secondary\"\n              />\n            }\n            label=\"Утренние\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.state.switchAfternoon}\n                onChange={this.handleChange}\n                name=\"switchAfternoon\"\n                color=\"Secondary\"\n              />\n            }\n            label=\"Обеденные\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.state.switchEvening}\n                onChange={this.handleChange}\n                name=\"switchEvening\"\n                color=\"Secondary\"\n              />\n            }\n            label=\"Вечерние\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.state.switchEnter}\n                onChange={this.handleChange}\n                name=\"switchEnter\"\n                color=\"Secondary\"\n              />\n            }\n            label=\"Приход\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.state.switchExit}\n                onChange={this.handleChange}\n                name=\"switchExit\"\n                color=\"Secondary\"\n              />\n            }\n            label=\"Уход\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.state.switchHome}\n                onChange={this.handleChange}\n                name=\"switchHome\"\n                color=\"Secondary\"\n              />\n            }\n            label=\"Дом\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.state.switchText}\n                onChange={this.handleChange}\n                name=\"switchText\"\n                color=\"primary\"\n              />\n            }\n            label=\"Показывать Текст\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.state.switchImage}\n                onChange={this.handleChange}\n                name=\"switchImage\"\n                color=\"primary\"\n              />\n            }\n            label=\"Показывать Фото\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.state.switchVideo}\n                onChange={this.handleChange}\n                name=\"switchVideo\"\n                color=\"primary\"\n              />\n            }\n            label=\"Показывать Видео\"\n          />\n        </FormGroup>\n      </Grid>\n\n      <Grid container justify = \"center\">\n        <TopPoolingStations \n          news={this.state.news}>\n        </TopPoolingStations>\n      </Grid>      \n      \n      <Grid container justify = \"center\">\n        <TextField \n          style={{width:'350px'}}\n          type='number'\n          id=\"outlined-station\" \n          label=\"№ участка\" \n          variant=\"outlined\" \n          onChange={this.handleChangePoolingStation}\n        />\n        {/* <Button\n        style={{width:'15px'}}\n          variant=\"contained\"\n          //color= 'primary'\n          //className={classes.button}\n          onClick={this.handleClickClearPoolingStation}\n          startIcon={<ClearIcon />}\n        >\n          \n        </Button>           */}\n      </Grid>\n\n      <Grid container justify = \"center\">\n        <TextField \n          style={{width:'350px'}}\n          id=\"outlined-district\" \n          label=\"Район\" \n          variant=\"outlined\" \n          onChange={this.handleChangeDistrict}\n        />\n      </Grid>\n\n      <Grid container justify = \"center\">\n        <FormControl style={{width:'350px'}}>\n          <NativeSelect\n            value={this.state.filterViolation}\n            onChange={this.handleChangeFilterViolation}\n            name=\"filterViolation\"\n            //inputProps={{ 'aria-label': 'filterViolation' }}\n          >\n            <option value='Любое нарушение'>Любое нарушение</option>\n            {\n                this.violationList.map(violation => (\n                  <option value={violation}>{violation}</option>\n              ))\n            }\n          </NativeSelect>\n          <FormHelperText>Выберите фильтр по виду нарушения</FormHelperText>\n        </FormControl>\n      </Grid>\n\n      <Grid container justify = \"center\">\n        <Button\n            style={{width:'350px'}}\n            type ='number'\n            variant=\"contained\"\n            onClick={this.handleClickFindPoolingStation}\n            color= 'primary'\n            //className={classes.button}\n            startIcon={<SearchIcon />}\n          >\n            Применить фильтры\n        </Button>\n      </Grid>\n\n      {this.state.showSpinner ? this.returnSpinner() : <div></div>}\n      {isAllowedRender\n          ? <News \n              news={this.state.news}\n              filters={this.state.filters}             \n            >\n\n            </News>\n          : <div></div>\n        }\n    </div>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}